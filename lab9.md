**ЗВІТ ПО ВИКОНАННЮ ЛАБОРАТОРНОЇ РОБОТИ №9**

з дисципліни: «Операційні системи»

**Тема: “Захист системи та користувачів у Linux. Створення користувачів та груп”**

Виконали студенти 
групи КСМ-33 
Бердяєв А.О, Охріменко Є.Б  
Перевірила викладач  
Сушанова В.С. 

**Мета роботи:** 

1. Отримання практичних навиків роботи з командною оболонкою Bash.
2. Знайомство з базовими структурами для збереження системних даних - процеси, память, лог-файли  та повідомлення про стан ядра.
3. Знайомство зі стандартом FHS.
4. Знайомство з діями при налаштуванні мережі.

**Матеріальне забезпечення занять:**  
1\. ЕОМ типу IBM PC.  
2\. ОС сімейства Windows та віртуальна машина Virtual Box (Oracle).  
3\. ОС GNU/Linux (будь-який дистрибутив).  
4\. Сайт мережевої академії Cisco netacad.com та його онлайн курси по Linux

Завдання для попередньої підготовки:

*Прочитайте короткі теоретичні відомості до лабораторної роботи та зробіть невеликий словник базових англійських термінів з питань призначення команд та їх параметрів.

Вивчіть матеріали онлайн-курсу академії Cisco “NDG Linux Essentials”:

Chapter 15 - System and User Security 

Chapter 16 - Creating Users and Groups

Пройдіть тестування у курсі 	NDG Linux Essentials за такими темами:

Chapter 15 Exam

Chapter 16 Exam

На базі розглянутого матеріалу дайте відповіді на наступні питання:

1.Розкрийте поняття UPG, коли їх доцільно використовувати?

UPG (User Private Group) — це модель керування правами в Linux, за якої для кожного користувача автоматично створюється окрема група з такою ж назвою, як і ім’я користувача.

Коли доцільно використовувати UPG

* У сучасних Linux-системах (особливо RedHat, Fedora, CentOS).

* Коли потрібно:

      легко створювати каталоги для спільної роботи;
      
      контролювати доступ між користувачами;
      
      дозволити групам автоматично отримувати записи редагування файлів (через setgid).

2.*Якими командами можна створити групи користувачів? Наведіть приклади

    У Linux групи створюють за допомогою команд:
    
    Створення групи: groupadd
    sudo groupadd
    groupadd -r
    
    Створює нову групу developers.
    
    Створення групи з конкретним GID
    sudo groupadd -g 1500 admins

3.**Якими командами можна змінити налаштування груп користувачів? Наведіть приклади

    1. Перегляд інформації про групу
    getent group research   # показує інформацію про групу з усіх джерел
    grep research /etc/group  # шукає групу у файлі /etc/group
    
    2. Перейменування групи
    groupmod -n clerks sales  # змінити назву групи sales на clerks
    
    3. Зміна GID (ідентифікатора групи)
    groupmod -g 10003 clerks  # змінити GID групи clerks
    
    4. Видалення групи
    groupdel clerks
    
    5. Додавання користувача до групи
    usermod -aG research sysadmin  # додати sysadmin до групи research

Підготувати в електронному вигляді початковий варіант звіту:

Титульний аркуш, тема та мета роботи

Словник термінів

Відповіді на п.4.1 та п.4.5 з завдань для попередньої підготовки

Хід роботи:

Початкова робота в CLI-режимі в Linux ОС сімейства Linux:

Запустіть операційну систему Linux Ubuntu. Виконайте вхід в систему та запустіть термінал (якщо виконуєте ЛР у 401 ауд.).

Запустіть віртуальну машину Ubuntu_PC (якщо виконуєте завдання ЛР через академію netacad) 

Запустіть свою операційну систему сімейства Linux (якщо працюєте на власному ПК та її встановили) та запустіть термінал.

Опрацюйте всі приклади команд, що представлені у лабораторних роботах курсу NDG Linux Essentials - Lab 15: System and User Security та Lab 16: Creating Users and Groups. Створіть таблицю для опису цих команд
 
| Назва команди | Її призначення та функціональність |
| ----- | ----- |
| su - | Користувач переходить в обліковий запис root із завантаженням його середовища |
| id | Показує інформацію про поточного користувача: його ID, групи та права. |
| exit | Вийти з поточної сесії або облікового запису (наприклад, з root назад у звичайного користувача). |
| head /etc/shadow | Показує перші кілька рядків файла /etc/shadow, де зберігаються хеші паролів користувачів. |
| sudo head /etc/shadow | Виконує команду head /etc/shadow з правами адміністратора через sudo, тобто дає змогу подивитися перші рядки файла з хешами паролів. |
| head /etc/passwd | Показує перші рядки файла /etc/passwd, де зберігається список користувачів системи та базова інформація про них |
| grep sysadmin /etc/passwd | Шукає в файлі /etc/passwd рядки, що містять слово sysadmin. |
| head -3 /etc/shadow | Показує перші три рядки файла /etc/shadow, де зберігаються хеші паролів та інші параметри користувачів. |
| ls -l /etc/shadow | Показує детальну інформацію про файл /etc/shadow: права доступу, власника, групу, розмір та дату останньої зміни. |
| sudo head -3 /etc/shadow | Показує перші три рядки файла /etc/shadow з правами адміністратора, тобто можна побачити хеші паролів і параметри облікових записів користувачів. |
| getent passwd sysadmin | Показує запис користувача sysadmin із бази даних користувачів системи (як /etc/passwd або інші джерела, якщо налаштовані). |
| man 5 passwd | Відкриває довідку (man page) для формату файлу /etc/passwd (розділ 5 — формати файлів), де описано структуру записів, поля та їх значення. |
| id root | Показує UID, GID і групи користувача root (навіть якщо ти зараз не root). |
| who | Показує, хто зараз увійшов у систему: користувачі, термінали, час входу. |
| w | Показує, хто зараз увійшов у систему, а також що вони роблять: процеси, скільки часу активні, навантаження на систему. |
| last | Показує історію входів користувачів у систему, включно з часом входу та виходу, періодами бездіяльності та перезавантаженнями. |
| groupadd -r research | Створює системну групу з назвою research (-r означає, що це системна, а не звичайна група). |
| getent group research | Показує інформацію про групу research із системної бази груп |
| grep sales /etc/group | Шукає в файлі /etc/group рядки, що містять sales, тобто інформацію про групу sales та її учасників. |
| groupmod -n clerks sales | Перейменовує групу sales на clerks. |
| groupmod -g 10003 clerks | Змінює GID (ідентифікатор групи) групи clerks на 10003 |
| grep clerks /etc/group | Шукає в /etc/group рядки, що містять clerks, щоб показати інформацію про цю групу та її учасників. |
| groupdel clerks | Видаляє групу clerks із системи. |
| useradd -D | Показує поточні налаштування за замовчуванням для створення нових користувачів |
| useradd -D -f 30 | Встановлює за замовчуванням час неактивності облікового запису після закінчення пароля на 30 днів для нових користувачів (-f 30). |
| nano /etc/default/useradd | Відкриває файл /etc/default/useradd у редакторі nano, де можна переглянути або змінити параметри за замовчуванням для створення нових користувачів |
| useradd -G research -c 'Linux Student' -m student | Створює користувача student з: групою research (-G research), коментарем/повним іменем 'Linux Student' (-c), створенням домашньої директорії (-m). |
| grep student /etc/passwd | Показує запис про користувача student у /etc/passwd. |
| grep student /etc/group | Показує, до яких груп належить користувач student у /etc/group. |
| usermod -aG research sysadmin | Додає користувача sysadmin до додаткової групи research |
| passwd student | Дозволяє встановити або змінити пароль для користувача student. |
| last student | Показує історію входів у систему користувача student, включно з часом входу та виходу, періодами бездіяльності та перезавантаженнями. |
| userdel -r student | Видаляє користувача student та його домашню директорію з усім вмістом (-r). |




Примітка: Скріншоти виконання команд в терміналі можна не представляти, достатньо коротко описати команди в таблиці.

Виконайте наступні практичні завдання у терміналі наступні дії (продемонструвати скріншоти):

- виведіть інформацію про поточного користувача різними способами (підказка використовуйте команди id та grep);

<p align="center"> <img width="775" height="113" alt="image" src="https://github.com/user-attachments/assets/cc2342ed-cf50-4e8d-aee6-1fa70d73fb2c" /> </p>
<p align="center">  </p>
<p align="center">  </p>

- *попрактикуйте в терміналі команди last, w та who. Порівняйте результати виводу кожної команди, які деталі відсутні в кожній із команд порівняно з іншими?

<p align="center"> <img width="791" height="548" alt="image" src="https://github.com/user-attachments/assets/2770d125-471a-43d0-8eb3-a10f2fa6b3ec" /> </p>
<p align="center"> ```w``` показує, що саме робить користувач прямо зараз, а ```last``` — історію входів. </p>
- *створіть дві нові групи користувачів - super_admins, noob_users та good_students, визначте їх ідентифікатори;

<p align="center"> <img width="321" height="201" alt="image" src="https://github.com/user-attachments/assets/9dd0d51c-e408-4865-9e32-42053a249792" />
 </p>

- *для кожного члену Вашої команди за допомогою терміналу створіть нового користувача (якщо працюєте самі, то просто трьох довільних користувачів), не забудьте після створення нового користувача одразу задати йому пароль;

<p align="center"> <img width="336" height="489" alt="image" src="https://github.com/user-attachments/assets/d06a36e7-e393-45b4-ab8d-2248be72dcd2" />
 </p>

- **додайте нових користувачів у створені Вами нові групи таким чином, щоб у групах super_admins та noob_users було по 2 користувачі, один з яких є в обох групах, у групу good_students додайте всіх трьох користувачів;

<p align="center"> <img width="612" height="96" alt="image" src="https://github.com/user-attachments/assets/d5fef6c0-76ec-43a6-9f66-e6f992608d66" />
 </p>

- **перегляньте інформацію про групи, та які користувачі до них входять, поясніть що ви бачите;

<p align="center"> <img width="399" height="130" alt="image" src="https://github.com/user-attachments/assets/7e8ffbd9-5160-4e37-a229-dc3d207f1cdb" />
 </p>

- **видаліть першого створеного вами користувача, перегляньте чи залишиться інформація про нього в групах, де він перебував;
- 
<p align="center"> <img width="480" height="89" alt="image" src="https://github.com/user-attachments/assets/e24eb2e1-cadc-4571-9626-492711a9abe9" />
 </p>

- **видаліть другого користувача, перегляньте чи залишиться інформація про нього в групах, де він перебував; 

<p align="center"> <img width="473" height="92" alt="image" src="https://github.com/user-attachments/assets/0ab3a2ce-f2e6-492b-9735-0fe7b9407f4d" />
 </p>

- **видаліть третього користувача, перегляньте чи залишиться інформація про нього в групах, де він перебував; 

<p align="center"> <img width="479" height="97" alt="image" src="https://github.com/user-attachments/assets/ac55a3e8-7a65-4f8a-9546-03d6b68ce2fb" />
 </p>

- **перегляньте інформацію про існуючі групи користувачів;

<p align="center"> <img width="304" height="95" alt="image" src="https://github.com/user-attachments/assets/5754f80f-9a02-4892-afed-3b5e27fff231" />
 </p>

- **видаліть створені Вами групи користувачів;

<p align="center"> <img width="380" height="56" alt="image" src="https://github.com/user-attachments/assets/e4a85778-cf67-4121-88f4-ab942e81da1c" />
 </p>

- **перегляньте інформацію про існуючі групи користувачів.

 <p align="center"> <img width="387" height="53" alt="image" src="https://github.com/user-attachments/assets/c4a08ad7-4b2e-4745-a89f-b357f37e7e0b" />
 </p>
 
Контрольні запитання:

1.Чому в конфігураційних файлах паролі не зберігається в явному вигляді?

    Щоб захистити їх від викрадення: якщо файл /etc/shadow потрапить до зловмисника, хешовані паролі не можна одразу використати.
    
    Використовують хеші (SHA, bcrypt тощо) — з них неможливо відновити оригінальний пароль без перебору всіх варіантів.

2.Чому не рекомендується виконувати повсякденні операції, використовуючи обліковий запис root?
    
    Root має повний контроль над системою, помилка може знищити важливі файли або порушити роботу системи.
    
    Використання звичайного користувача + sudo для адміністративних завдань зменшує ризик випадкових пошкоджень.

3.*У чому відмінність механізмів отримання особливих привілеїв su і sudo?

| Команда | Як працює                                               | Особливості                                                                                                  |
| ------- | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| su | Перехід в інший обліковий запис (за замовчуванням root) | Потребує пароль того користувача; дає повну сесію з його правами |
| sudo | Виконання окремої команди з правами адміністратора | Потребує пароль поточного користувача; дає права тільки для конкретної команди, без повного входу в root |


4.*Чому домашній каталог користувача root не розміщено в каталозі /home?

    Для безпеки та ізоляції: root має повний доступ до системи, і його конфігураційні файли краще тримати окремо, поза /home.
    
    Зазвичай root має каталог /root, щоб не переплутати його файли з файлами звичайних користувачів.

5.*Для чого використовується команда getent?

    Використовується для отримання записів із системних баз даних (наприклад, /etc/passwd, /etc/group, /etc/shadow) через NSS (Name Service Switch).

6.*Як можна змінити пароль користувача?

    Командою passwd:
    
    passwd username
    
    Введеш новий пароль, і він буде збережений у /etc/shadow у вигляді хешу.

7.**Яким чином можна видалити існуючі групи користувачів? Чи залишиться інформація про них десь у системі?

    Команда:
    
    groupdel groupname
    
    
    Видаляє групу з /etc/group.
    
    Після видалення запис не залишиться у системі. Якщо користувачі мали цю групу як основну, це може створити проблеми, тому зазвичай перевіряють і змінюють GID користувачів перед видаленням.

8.**Яке призначення команди chage?

    Керує термінами дії пароля та облікового запису користувача.
    
    Приклади:
    
    chage -l username       # показати терміни дії пароля
    chage -M 90 username    # встановити максимальний термін дії пароля 90 днів
    chage -m 7 username     # мінімальний термін дії пароля 7 днів


9.**Які параметри команди usermod ви вважаєте найбільш використовуваними?

    -aG groupname — додати користувача до додаткових груп
    
    -c "Comment" — змінити коментар/повне ім’я
    
    -d /home/newdir — змінити домашню директорію
    
    -s /bin/bash — змінити оболонку користувача
    
    -L / -U — блокувати / розблокувати обліковий запис

## Conclusion
While completing this laboratory work, I familiarized myself with the principles of system security and user management in Linux OS. I gained practical skills in working with the Bash shell, specifically learning how to create new user accounts and groups using the ```useradd``` and ```groupadd``` commands. I analyzed the structure of configuration files ```/etc/passwd``` and ```/etc/group``` , learned to modify group membership using the ```usermod``` command, and verified user identifiers (UID/GID) using ```id, grep, and getent```. Additionally, I practiced the process of safely deleting users and groups, ensuring that the system correctly updates group membership records.
